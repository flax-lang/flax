// test.flx
// Copyright (c) 2014 - The Foreseeable Future, zhiayang@gmail.com
// Licensed under the Apache License Version 2.0.

import Foundation
import Utilities

struct Bar
{
	var norf: Int32 = 1600
	init()
	{
		printf("init bar\n")
	}
}

struct Foo
{
	var flob: Bar
	var bar: Int32 = 400
	var qux: Int32 = 800
}


func main(argc: Int32, argv: Int8**) -> Int32
{
	var x: String("Hello, World")
	var z: UintPtr = 591

	printf("[%s], [%d]\n", x.data, z)

	func Lol() -> Foo
	{
		var Foo = alloc Foo
		return #Foo
	}

	var afoo: Foo
	printf("[%d]\n", afoo.flob.norf)
	return 0
}
