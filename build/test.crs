import Utilities

struct String
{
	var len: Int64
	var data: Int8 ptr

	init()
	{
		self.len = 64
		self.data = malloc(self.len)
	}

	func length() -> Int64
	{
		return self.len
	}

	operator=(other: Int8 ptr)
	{
		self.data = other
	}

	operator==(other: String ptr) -> Bool
	{
		return false
	}

	func print(x: Int64)
	{
		printf("INT64: ")
		printInt(x)
	}

	func print(x: Int32)
	{
		printf("INT32: ")
		printInt(x)
	}
}


func main(argc: Int32, argv: Int8 ptr ptr) -> Int32
{
	var x: String = "Hello, World!"
	var y: String

	var a: Int32 = 100
	var b: Int64 = 200

	x.print(a)
	printf("\n")
	x.print(b)
	return 0
}



ffi func putchar(x: Int32) -> Int32
ffi func malloc(x: Int64) -> Int8 ptr
ffi func puts(x: Int8 ptr) -> Int32
ffi func printf(x: Int8 ptr, ...) -> Int32
