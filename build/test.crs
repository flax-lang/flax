import Utilities

struct String
{
	var len: Int64
	var data: Int8 ptr

	init()
	{
		self.len = 64
		self.data = malloc(self.len)
	}

	func length() -> Int64
	{
		return self.len
	}

	operator=(other: Int8 ptr)
	{
		self.data = other
	}

	operator==(other: String ptr) -> Bool
	{
		return false
	}
}


func main(argc: Int32, argv: Int8 ptr ptr) -> Int32
{
	var x: String = "Hello, World!"
	var y: String

	printf("Hello, %s\n", argv[0])

	var a: Int8 = 100
	var b: Int16 = 200
	var c: Int32 = 300
	var d: Int64 = 400

	printInt(500)
	printInt64(10000)

	return 0
}

func printInt(x: Int8)
{
	printf("int8: %hhd\n", x)
}

func printInt(x: Int16)
{
	printf("int16: %hd\n", x)
}

func printInt(x: Int32)
{
	printf("int32: %d\n", x)
}

func printInt(x: Int64)
{
	printf("int64: %lld\n", x)
}




ffi func putchar(x: Int32) -> Int32
ffi func malloc(x: Int64) -> Int8 ptr
ffi func puts(x: Int8 ptr) -> Int32
ffi func printf(x: Int8 ptr, ...) -> Int32
