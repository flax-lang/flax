// unions.flx
// Copyright (c) 2017, zhiayang
// Licensed under the Apache License Version 2.0.

export test_unions
import libc as _

union option<T>
{
	some: T
	none
}

public fn doUnionsTest()
{
	do {

		let x = option::some("foobar")
		let y = option::some(456)

		printf("x = %s, y = %d\n", x as option!<str>::some, y as option!<int>::some)
	}

	do {
		union Bar
		{
			some: str
			other: int
			none
		}

		let q = Bar::some("hello")
		let v = Bar::other(30)
		let m = Bar::none

		printf("q = %s, v = %d\n", q as Bar::some, v as Bar::other)
	}
}


